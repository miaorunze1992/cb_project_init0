<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.jp.cloudbyte.StudentManagement.dao.UserInfoMapper">
	<select id="selectUsername" resultType="co.jp.cloudbyte.StudentManagement.entity.User">
		SELECT
			USERNAME,
			`PASSWORD`,
			GENDER,
			ADDRESS,
			COUNTRY,
			`COMMENT`
		FROM
			USER_INFO
		WHERE
			USERNAME = "${username}"	
	</select>
	<insert id="insetRegister" parameterType="co.jp.cloudbyte.StudentManagement.form.FormRegister">
		INSERT INTO USER_INFO
			(USERNAME,
			`PASSWORD`,
			GENDER,
			ADDRESS,
			COUNTRY,
			`COMMENT`)
		VALUES
			('${username}',
			'${password}',
			${gender},
			'${address}',
			${country},
			'${comment}')
	</insert>
	<select id="selectUserAll" resultType="co.jp.cloudbyte.StudentManagement.entity.User">
		SELECT
			USERNAME,
			`PASSWORD`,
			GENDER,
			ADDRESS,
			COUNTRY,
			`COMMENT`
		FROM
			USER_INFO
	</select>
	<select id="selectByCondition" resultType="co.jp.cloudbyte.StudentManagement.entity.User">
		SELECT 
			USERNAME,
			`PASSWORD`,
			GENDER,
			ADDRESS,
			COUNTRY,
			`COMMENT`
		FROM 
			USER_INFO 
		WHERE
			1=1
		<if test="country != null and country != '' or country == 0">
			AND COUNTRY = ${country}
		</if><if test="gender != null and gender != '' or gender == 0">
			AND GENDER = ${gender}
		</if>
	</select>
	
	<update id="upDateUser" >
		UPDATE
			USER_INFO
		SET
			USERNAME = '${username}',
			`PASSWORD`='${password}',
			GENDER= '${gender}',
			ADDRESS='${address}',
			COUNTRY='${country}',
			`COMMENT`='${comment}'
		WHERE
			USERNAME = '${username}';
	</update>
</mapper>